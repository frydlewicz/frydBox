/*
 * frydBox - jQuery plugin
 * Free and lightweight Lightbox or Fancybox alternative
 *
 * Copyright (c) 2017 Kamil Frydlewicz
 * www.frydlewicz.pl
 *
 * Version: 1.0.6
 * Requires: jQuery v1.7+
 *
 * MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
if(typeof jQuery=="undefined"){throw new Error("frydBox requires jQuery")}(function(y){var g="frydBox";var I={display:"block","box-sizing":"border-box",padding:"0",margin:"0",background:"none",border:"none",outline:"none",opacity:"1",cursor:"default"};var s=y.extend({},I,{display:"none",position:"fixed",left:"0",top:"0","z-index":"999999995",width:"100%",height:"100%"});var m=y.extend({},I,{display:"none",position:"fixed",left:"50%",top:"50%","z-index":"999999998",width:"80px",height:"80px",margin:"-50px 0 0 -50px",border:"10px solid rgba(255,255,255,.4)","border-top-color":"#fff","border-radius":"50%",opacity:"0"});var A=y.extend({},I,{display:"none",position:"fixed","z-index":"999999996",opacity:"0"});var t=y.extend({},I,{position:"absolute",left:"0",top:"25%","z-index":"999999997",width:"50%",height:"50%",overflow:"hidden",background:"no-repeat left 20px center","font-size":"10000px",cursor:"pointer",opacity:"0",filter:"drop-shadow(0 0 5px #000)"});var b=y.extend({},I,{position:"absolute",right:"0",top:"25%","z-index":"999999997",width:"50%",height:"50%",overflow:"hidden",background:"no-repeat right 20px center","font-size":"10000px",cursor:"pointer",opacity:"0",filter:"drop-shadow(0 0 5px #000)"});var M=y.extend({},I,{position:"absolute",right:"-10px",top:"-10px","z-index":"999999997",width:"50px",height:"50px",overflow:"hidden",background:"no-repeat right top",cursor:"pointer",opacity:"0",filter:"drop-shadow(0 0 5px #000)"});var D=y.extend({},I,{display:"none",width:"100%",height:"auto"});var B={prefix:"frydBox_",lazyLoading:true,lazyLoadingStart:1000,lazyLoadingDelay:100,fadeDuration:500,moveDuration:750,fadeWhenMove:true,screenPercent:0.9,backOpacity:0.6,shadowOpacity:0.6,shadowSize:18,borderSize:10,borderColor:"#fff",borderRadius:8,showLoader:true,scrollBars:false};var x;var C;var q;var e=false;var a;var w;var p;var L;var J;var H;var u=false;(function(){var P=location.href;var O=document.currentScript;if(O){P=O.src}else{y("script").each(function(){var Q=y(this).attr("src");if(Q.indexOf(g)>-1){P=Q}})}var N=P.lastIndexOf("/");if(N>=0){H=P.substring(0,N+1)}else{H=P.substring(0,P.lastIndexOf("\\")+1)}})();function l(){a=y(window).width();w=y(window).height();p=B.screenPercent*a;L=B.screenPercent*w}function j(N){switch(N.which){case 27:n();break;case 37:d();break;case 39:z();break}}function r(P,N){for(var O in P){N.css(O,P[O])}}function G(){console.log(g+": powered by www.frydlewicz.pl");x=y("body");J=x.css("overflow");y(window).on("resize",l);y(document).on("keydown",j);l();E();f()}function E(){C=y('<div id="'+B.prefix+'back" class="'+B.prefix+'back"></div>');r(s,C);C.on("click",function(){n()});x.append(C)}function f(){if(!B.showLoader){return}q=y('<div id="'+B.prefix+'loader" class="'+B.prefix+'loader"></div>');r(m,q);x.append(q)}function K(N){var O=y('<div id="'+B.prefix+"cont-"+N+'" class="'+B.prefix+'cont"></div>');r(A,O);x.append(O);return O}function o(R,Q){var O=y('<span id="'+B.prefix+"prev-"+Q+'" class="'+B.prefix+'prev">&nbsp;</span>');r(t,O);O.on("mouseenter",function(){if(y("."+B.prefix+"active").prev("."+B.prefix+"img").length){y(this).css("opacity",1)}});O.on("mouseleave",function(){y(this).css("opacity",0)});O.on("click",function(){d()});R.append(O);var N=y('<span id="'+B.prefix+"next-"+Q+'" class="'+B.prefix+'next">&nbsp;</span>');r(b,N);N.on("mouseenter",function(){if(y("."+B.prefix+"active").next("."+B.prefix+"img").length){y(this).css("opacity",1)}});N.on("mouseleave",function(){y(this).css("opacity",0)});N.on("click",function(){z()});R.append(N);var P=y('<span id="'+B.prefix+"close-"+Q+'" class="'+B.prefix+'close">&nbsp;</span>');r(M,P);P.on("mouseenter",function(){y(this).css("opacity",1)});P.on("mouseleave",function(){y(this).css("opacity",0)});P.on("click",function(){n()});R.append(P)}function h(Q,R,P,N){var O=y('<img id="'+B.prefix+"img-"+P+"-"+N+'" class="'+B.prefix+'img">');r(D,O);O.attr("data-src",R);Q.append(O);return O}function k(S,P){var Q=parseInt(P[0]["naturalWidth"])+2*B.borderSize;var N=parseInt(P[0]["naturalHeight"])+2*B.borderSize;if(!Q||!N){return{left:(a-p)/2,top:(w-p)/2}}var R=Q;var O=N;if(Q>p||N>L){if(Q/N>a/w){R=p;O=p*N/Q}else{O=L;R=L*Q/N}}S.css("width",Math.round(R)+"px");S.css("height",Math.round(O)+"px");return{left:(a-R)/2,top:(w-O)/2}}function c(){if(!B.showLoader){return}q.css("display","block");q.animate({opacity:1},{duration:B.fadeDuration,queue:false});(function N(){q.animate({rotation:"+=360"},{duration:1000,easing:"linear",queue:false,step:function(O){var Q=O%360;var P="rotate("+Q+"deg)";q.css({"-webkit-transform":P,"-ms-transform":P,transform:P})},complete:N})})()}function i(){if(!B.showLoader){return}q.animate({opacity:0},{duration:B.fadeDuration,queue:false,complete:function(){q.stop();q.css("display","none")}})}function n(){i();$img=y("."+B.prefix+"active");if($img.length){$img.off();$img.removeClass(B.prefix+"active")}if(e){e.stop().animate({opacity:0},{duration:B.fadeDuration,queue:false,complete:function(){e.find("."+B.prefix+"img").each(function(){y(this).hide()});e.css("display","none");e=false}})}C.fadeOut(B.fadeDuration,function(){if(!B.scrollBars){x.css("overflow",J)}u=false});if(typeof B.onClose=="function"){B.onClose()}}function F(R){R.preventDefault();if(e||u){return}var P=y(this).attr("data-cont");var N=y(this).attr("data-img");var Q=e=y("#"+B.prefix+"cont-"+P);var O=y("#"+B.prefix+"img-"+P+"-"+N);var S=O.attr("data-src");O.off("load").on("load",function(){if(typeof B.onImageLoaded=="function"){B.onImageLoaded(S)}var T=k(Q,O);Q.css("left",Math.round(T.left)+"px");Q.css("top",Math.round(T.top)+"px");O.show();i();Q.css("display","block");Q.animate({opacity:1},{duration:B.fadeDuration,queue:false,complete:function(){u=false;if(typeof B.onImageShowed=="function"){B.onImageShowed(S)}}})});if(!B.scrollBars){x.css("overflow","hidden")}c();C.fadeIn(B.fadeDuration);u=true;if(O.attr("src")!=S){O.attr("src",S)}else{O.trigger("load")}O.addClass(B.prefix+"active");if(typeof B.onClickLink=="function"){B.onClickLink(P,N,S)}}function d(){if(!e||u){return}var N=e.find("."+B.prefix+"active");if(!N.length){return}var O=N.prev("."+B.prefix+"img");if(!O.length){return}var P=O.attr("data-src");O.off("load").on("load",function(){if(typeof B.onImageLoaded=="function"){B.onImageLoaded(P)}if(B.fadeWhenMove){e.animate({opacity:0},{duration:B.fadeDuration,queue:false})}e.animate({left:a+"px"},{duration:B.moveDuration,queue:false,complete:function(){e.css("left",-a+"px");N.hide();O.show();if(!O.prev("."+B.prefix+"img").length){e.find("."+B.prefix+"prev").css("opacity",0)}var R=k(e,O);e.css("top",Math.round(R.top)+"px");i();if(B.fadeWhenMove){var Q=0;if(B.moveDuration>B.fadeDuration){Q=B.moveDuration-B.fadeDuration}setTimeout(function(){e.animate({opacity:1},{duration:B.fadeDuration,queue:false})},Q)}e.animate({left:Math.round(R.left)+"px"},{duration:B.moveDuration,queue:false,complete:function(){u=false;if(typeof B.onImageShowed=="function"){B.onImageShowed(P)}}})}})});c();u=true;if(O.attr("src")!=P){O.attr("src",P)}else{O.trigger("load")}N.removeClass(B.prefix+"active");O.addClass(B.prefix+"active");if(typeof B.onClickPrev=="function"){B.onClickPrev(P)}}function z(){if(!e||u){return}var N=e.find("."+B.prefix+"active");if(!N.length){return}var O=N.next("."+B.prefix+"img");if(!O.length){return}var P=O.attr("data-src");O.off("load").on("load",function(){if(typeof B.onImageLoaded=="function"){B.onImageLoaded(P)}if(B.fadeWhenMove){e.animate({opacity:0},{duration:B.fadeDuration,queue:false})}e.animate({left:-a+"px"},{duration:B.moveDuration,queue:false,complete:function(){e.css("left",a+"px");N.hide();O.show();if(!O.next("."+B.prefix+"img").length){e.find("."+B.prefix+"next").css("opacity",0)}var R=k(e,O);e.css("top",Math.round(R.top)+"px");i();if(B.fadeWhenMove){var Q=0;if(B.moveDuration>B.fadeDuration){Q=B.moveDuration-B.fadeDuration}setTimeout(function(){e.animate({opacity:1},{duration:B.fadeDuration,queue:false})},Q)}e.animate({left:Math.round(R.left)+"px"},{duration:B.moveDuration,queue:false,complete:function(){u=false;if(typeof B.onImageShowed=="function"){B.onImageShowed(P)}}})}})});c();u=true;if(O.attr("src")!=P){O.attr("src",P)}else{O.trigger("load")}N.removeClass(B.prefix+"active");O.addClass(B.prefix+"active");if(typeof B.onClickNext=="function"){B.onClickNext(P)}}function v(O){function N(Q){if(Q>=O.length){if(typeof B.onLazyLoadingEnd=="function"){B.onLazyLoadingEnd()}return}var P=new Image();P.onload=function(){setTimeout(N,B.lazyLoadingDelay,Q+1)};P.src=O[Q]}setTimeout(function(){if(typeof B.onLazyLoadingStart=="function"){B.onLazyLoadingStart()}N(0)},B.lazyLoadingStart)}window[g]={count:0};y.fn.frydBox=function(P){y.extend(B,P);s.background="rgba(0,0,0,"+B.backOpacity+")";if(typeof B.prevImage=="undefined"){B.prevImage=H+"prev.png"}if(B.prevImage!==false){t.background="url("+B.prevImage+") "+t.background}if(typeof B.nextImage=="undefined"){B.nextImage=H+"next.png"}if(B.nextImage!==false){b.background="url("+B.nextImage+") "+b.background}if(typeof B.closeImage=="undefined"){B.closeImage=H+"close.png"}if(B.closeImage!==false){M.background="url("+B.closeImage+") "+M.background}D.border=B.borderSize+"px solid "+B.borderColor;D["border-radius"]=B.borderRadius+"px";D["box-shadow"]="0 0 "+B.shadowSize+"px rgba(0,0,0,"+B.shadowOpacity+")";if(!window[g].count){G()}var Q=K(window[g].count);o(Q,window[g].count);var O=0;var R=[];var N=y(this).each(function(){var S=y(this).attr("href");R.push(S);var T=h(Q,S,window[g].count,O);y(this).attr("data-cont",window[g].count);y(this).attr("data-img",O);y(this).off("click").on("click",F);++O});if(B.lazyLoading){if(document.readyState=="complete"){v(R)}else{y(window).on("load",function(){v(R)})}}++window[g].count;return N}}(jQuery));

