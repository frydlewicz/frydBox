/*
 * frydBox - jQuery plugin
 * Free and lightweight Lightbox or Fancybox alternative
 *
 * Copyright (c) 2017 Kamil Frydlewicz
 * www.frydlewicz.pl
 *
 * Version: 1.0.2
 * Requires: jQuery v1.2+
 *
 * MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
if(typeof jQuery==="undefined"){throw new Error("frydBox requires jQuery")}(function(h){var G="frydBox";var l={"box-sizing":"border-box",padding:"0",margin:"0",background:"none",border:"none",outline:"none",opacity:"1",cursor:"default"};var d=h.extend({},l,{display:"none",position:"fixed",left:"0",top:"0","z-index":"999999997",width:"100%",height:"100%"});var n=h.extend({},l,{display:"none",position:"fixed","z-index":"999999998"});var b=h.extend({},l,{position:"absolute",left:"0",top:"25%","z-index":"999999999",width:"50%",height:"50%",overflow:"hidden",background:"no-repeat left 20px center","font-size":"10000px",cursor:"pointer",opacity:"0",filter:"drop-shadow(0 0 5px #000)"});var c=h.extend({},l,{position:"absolute",right:"0",top:"25%","z-index":"999999999",width:"50%",height:"50%",overflow:"hidden",background:"no-repeat right 20px center","font-size":"10000px",cursor:"pointer",opacity:"0",filter:"drop-shadow(0 0 5px #000)"});var k=h.extend({},l,{position:"absolute",right:"-10px",top:"-10px","z-index":"999999999",width:"50px",height:"50px",overflow:"hidden",background:"no-repeat right top",cursor:"pointer",opacity:"0",filter:"drop-shadow(0 0 5px #000)"});var j=h.extend({},l,{display:"none",width:"100%",height:"auto"});var F={prefix:"frydBox_",lazyLoading:true,lazyLoadingDelay:100,fadeDuration:500,moveDuration:700,fadeWhenMove:true,screenPercent:0.88,backOpacity:0.6,shadowOpacity:0.6,shadowSize:18,borderSize:10,borderColor:"#fff",borderRadius:8,scrollBars:false};var t;var C;var q=undefined;var v;var B;var A;var r;var s;var p;(function(){var J;var I=document.currentScript;if(I){J=I.src}else{J=location.href}var H=J.lastIndexOf("/");if(H>=0){p=J.substring(0,H+1)}else{p=J.substring(0,J.lastIndexOf("\\")+1)}})();function D(){v=h(window).width();B=h(window).height();A=F.screenPercent*v;r=F.screenPercent*B}function y(H){switch(H.which){case 27:e();break;case 37:f(q);break;case 39:g(q);break}}function z(J,H){for(var I in J){H.css(I,J[I])}}function o(){console.log(G+": powered by www.frydlewicz.pl");t=h("body");s=t.css("overflow");h(window).bind("resize",D);h(document).bind("keydown",y);D();a()}function a(){C=h('<div id="'+F.prefix+'back" class="'+F.prefix+'back"></div>');z(d,C);C.bind("click",function(){e()});t.append(C)}function m(H){var I=h('<div id="'+F.prefix+"cont-"+H+'" class="'+F.prefix+'cont"></div>');z(n,I);t.append(I);return I}function i(L,K){var I=h('<span id="'+F.prefix+"prev-"+K+'" class="'+F.prefix+'prev">&nbsp;</span>');z(b,I);I.bind("mouseenter",function(){if(h("."+F.prefix+"active").prev("."+F.prefix+"img").length){h(this).css("opacity","1")}});I.bind("mouseleave",function(){h(this).css("opacity","0")});I.bind("click",function(){f(L)});L.append(I);var H=h('<span id="'+F.prefix+"next-"+K+'" class="'+F.prefix+'next">&nbsp;</span>');z(c,H);H.bind("mouseenter",function(){if(h("."+F.prefix+"active").next("."+F.prefix+"img").length){h(this).css("opacity","1")}});H.bind("mouseleave",function(){h(this).css("opacity","0")});H.bind("click",function(){g(L)});L.append(H);var J=h('<span id="'+F.prefix+"close-"+K+'" class="'+F.prefix+'close">&nbsp;</span>');z(k,J);J.bind("mouseenter",function(){h(this).css("opacity","1")});J.bind("mouseleave",function(){h(this).css("opacity","0")});J.bind("click",function(){e()});L.append(J)}function w(K,L,J,H){var I=h('<img id="'+F.prefix+"img-"+J+"-"+H+'" class="'+F.prefix+'img">');z(j,I);I.attr("data-src",L);K.append(I);return I}function u(M,J){var K=parseInt(J[0]["naturalWidth"])+2*F.borderSize;var H=parseInt(J[0]["naturalHeight"])+2*F.borderSize;if(K===0||H===0){return{left:(v-A)/2,top:(B-A)/2}}var L=K;var I=H;if(K/H>v/B){if(K>v){L=A;I=A*H/K}}else{if(H>B){I=r;L=r*K/H}}M.css("width",Math.round(L)+"px");M.css("height",Math.round(I)+"px");return{left:(v-L)/2,top:(B-I)/2}}function e(){h("."+F.prefix+"cont").fadeOut(F.fadeDuration,function(){var H=h(this).find("."+F.prefix+"img");H.hide();H.removeClass(F.prefix+"active")});C.fadeOut(F.fadeDuration,function(){if(!F.scrollBars){t.css("overflow",s)}});q=undefined}function E(L){L.preventDefault();var J=h(this).attr("data-cont");var H=h(this).attr("data-img");var K=h("#"+F.prefix+"cont-"+J);var I=h("#"+F.prefix+"img-"+J+"-"+H);I.unbind("load").bind("load",function(){var M=u(K,I);K.css("left",Math.round(M.left)+"px");K.css("top",Math.round(M.top)+"px");I.show();K.fadeIn(F.fadeDuration)});if(!F.scrollBars){t.css("overflow","hidden")}C.fadeIn(F.fadeDuration,function(){var M=I.attr("data-src");I.attr("src",M);I.addClass(F.prefix+"active")});q=K}function f(J){if(typeof J==="undefined"){return}var H=J.find("."+F.prefix+"active");if(H.length===0){return}var I=H.prev("."+F.prefix+"img");if(I.length===0){return}I.unbind("load").bind("load",function(){if(F.fadeWhenMove){J.animate({opacity:0},{duration:F.fadeDuration,queue:false})}J.animate({left:v+"px"},{duration:F.moveDuration,queue:false,complete:function(){J.css("left",-v+"px");H.hide();I.show();var M=u(J,I);J.css("top",Math.round(M.top)+"px");if(F.fadeWhenMove){var L=0;if(F.moveDuration>F.fadeDuration){L=F.moveDuration-F.fadeDuration}setTimeout(function(){J.animate({opacity:1},{duration:F.fadeDuration,queue:false})},L)}J.animate({left:Math.round(M.left)+"px"},{duration:F.moveDuration,queue:false})}})});var K=I.attr("data-src");I.attr("src",K);H.removeClass(F.prefix+"active");I.addClass(F.prefix+"active")}function g(J){if(typeof J==="undefined"){return}var H=J.find("."+F.prefix+"active");if(H.length===0){return}var I=H.next("."+F.prefix+"img");if(I.length===0){return}I.unbind("load").bind("load",function(){if(F.fadeWhenMove){J.animate({opacity:0},{duration:F.fadeDuration,queue:false})}J.animate({left:-v+"px"},{duration:F.moveDuration,queue:false,complete:function(){J.css("left",v+"px");H.hide();I.show();var M=u(J,I);J.css("top",Math.round(M.top)+"px");if(F.fadeWhenMove){var L=0;if(F.moveDuration>F.fadeDuration){L=F.moveDuration-F.fadeDuration}setTimeout(function(){J.animate({opacity:1},{duration:F.fadeDuration,queue:false})},L)}J.animate({left:Math.round(M.left)+"px"},{duration:F.moveDuration,queue:false})}})});var K=I.attr("data-src");I.attr("src",K);H.removeClass(F.prefix+"active");I.addClass(F.prefix+"active")}function x(I){function H(K){if(K>=I.length){return}var J=new Image();J.onload=function(){setTimeout(H,F.lazyLoadingDelay,K+1)};J.src=I[K]}setTimeout(H,F.lazyLoadingDelay,0)}window[G]={count:0};h.fn.frydBox=function(J){h.extend(F,J);d.background="rgba(0, 0, 0, "+F.backOpacity+")";if(typeof F.prevImage==="undefined"){F.prevImage=p+"prev.png"}if(F.prevImage!==false){b.background="url("+F.prevImage+") "+b.background}if(typeof F.nextImage==="undefined"){F.nextImage=p+"next.png"}if(F.nextImage!==false){c.background="url("+F.nextImage+") "+c.background}if(typeof F.closeImage==="undefined"){F.closeImage=p+"close.png"}if(F.closeImage!==false){k.background="url("+F.closeImage+") "+k.background}j.border=F.borderSize+"px solid "+F.borderColor;j["border-radius"]=F.borderRadius+"px";j["box-shadow"]="0 0 "+F.shadowSize+"px rgba(0, 0, 0, "+F.shadowOpacity+")";if(window[G].count===0){o()}var K=m(window[G].count);i(K,window[G].count);var I=0;var L=[];var H=h(this).each(function(){var M=h(this).attr("href");L.push(M);var N=w(K,M,window[G].count,I);h(this).attr("data-cont",window[G].count);h(this).attr("data-img",I);h(this).unbind("click").bind("click",E);++I});if(F.lazyLoading){if(document.readyState==="complete"){x(L)}else{h(window).bind("load",function(){x(L)})}}++window[G].count;return H}}(jQuery));
